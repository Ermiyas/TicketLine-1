<!-- bootstrap alert displaying error message -->
<div *ngIf="error" class="alert alert-danger alert-dismissable fade show" role="alert">
  <strong>Error!</strong>
  <button type="button" (click)="vanishError()" class="close" data-dismiss="alert" aria-label="Close Error message">
    <span aria-hidden="true">x</span>
  </button>
</div>

<!-- table displaying customer search results -->
<div class="row">
  <button *ngIf="isAdmin()" type="button" class="btn btn-secondary btn-sm my-2" routerLink="/customer-add">Add
    Customer
  </button>
  <button type="button" class="btn btn-secondary btn-sm m-2" data-toggle="modal" data-target="#search-customers">
    Search Customers
  </button>
</div>

<table class="table">
  <thead>
  <tr>
    <th scope="col">
      ID
    </th>
    <th scope="col">
      Name
    </th>
    <th scope="col">
      First Name
    </th>
    <th scope="col">
      E-Mail
    </th>
    <th scope="col">
      Birthday
    </th>
    <th scope="col">
      Change
    </th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let customer of customers">
    <th scope="row">{{customer.id}}</th>
    <td>{{customer.name}}</td>
    <td>{{customer.firstname}}</td>
    <td>{{customer.email}}</td>
    <td>{{customer.birthday}}</td>
    <td>
      <button type="button" class="btn btn-secondary btn-sm m-2" data-toggle="modal" data-target="#update-customer"
              (click)="setActiveCustomer(customer)">
        Edit
      </button>
    </td>
  </tr>
  </tbody>

</table>

<!-- Modal to search for customers using costumer dialog component -->
<div class="modal fade" id="search-customers" tabindex="-1" role="dialog" aria-labelledby="Search costumers modal"
     aria-hidden="true">
  <app-customer-dialog
    title="Search Customers"
    (submitCustomer)="searchCustomers($event)">
  </app-customer-dialog>
</div>

<!-- Modal to update costuemr using costumer dialog component -->
<div class="modal fade" id="update-customer" tabindex="-1" role="dialog" aria-labelledby="Update costumer modal"
     aria-hidden="true"
     *ngIf="activeCustomer !== undefined">
  <app-customer-dialog
    title="Update Customer"
    [customer]="this.activeCustomer"
    (submitCustomer)="updateCustomer($event)">
  </app-customer-dialog>
</div>
